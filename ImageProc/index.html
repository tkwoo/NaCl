<!DOCTYPE html>
<html>
<head>
  <title>OpenCV in Chrome using NaCl</title>
  <script type="text/javascript" src="video_img.js"></script>
  <script type="text/javascript" src="video.js"></script>
</head>
<body onLoad="pageDidLoad()">
  <h1>OpenCV in Chrome using NaCl</h1>
  <h2>2017.09.21</h2>

  <p>This page uses <a
  href="https://developers.google.com/native-client/dev/">
  Google Native Client</a> to tie in to the C++ <a
  href="http://opencv.org/">OpenCV</a> computer vision library.
  This allows realtime image processing of the webcam feed from within the
  browser.
  <BR>  
  <em>NB</em>: No data is sent back to this website.
  </p>

  <p>Requires Chrome web browser version 57 or above (not Android app)</p>

  <select id="camera" hidden></select> 
  <button id="stream" hidden></button> 
  <select id="processor" disabled hidden></select> 
  <button id="run" hidden>Go</button>

  <div id="listener">
    <!-- Embed the NaCl -->
    <embed id="image_proc" width=0 height=0 src="image_proc.nmf"
           type="application/x-pnacl"/>
  </div>

  <div>
    <video id="live" width="512" height="384" hidden autoplay></video>
    <canvas id="display" width="512" height="384"></canvas>
    <canvas id="processed" width="512" height="384"></canvas>
  </div>

  <h2>Status <code id="statusField">NO-STATUS</code></h2>

  <a href="https://github.com/tkwoo/NaCl.git">Editor GitHub repo</a>
  <p>tkwoo</p>
  <!-- <img id="smiley" src="smiley_200x200.png" width="200" height="200"
       hidden></img> -->
  <!-- <img id="smiley" crossOrigin="" src="smiley_200x200.png" width="200" height="200" hidden></img> -->
  <img id="smiley" crossOrigin="" src="happy.png" width="256" height="256" hidden></img>
  
  <canvas id="smiley_canvas" width="256" height="256" hidden></canvas>
</body>
</html>
